// Course multi-select widget overrides
.student-overview {
  .courses-multiselect.p-multiselect {
    width: 100% !important;
    min-width: 100% !important;
    max-width: 100% !important;
    border: 1.5px solid var(--input-border);
    border-radius: var(--radius-sm);
    background: var(--input-bg);
    min-height: 44px;
    transition: border-color var(--transition-smooth), box-shadow var(--transition-smooth);

    .p-multiselect-label-container {
      padding: 0.5rem 1rem;
      flex: 1;
      min-width: 0;

      .p-multiselect-label {
        font-size: 0.85rem;
        font-weight: var(--font-weight-medium);
        color: var(--color-text-800);
        padding: 0;
        white-space: nowrap;
        overflow: hidden;
        text-overflow: ellipsis;

        &.p-placeholder {
          color: var(--color-text-400);
          opacity: 0.7;
        }
      }

      .p-multiselect-token {
        background: var(--color-primary-100);
        color: var(--color-primary-700);
        border-radius: var(--radius-xs);
        padding: 0.25rem 0.5rem;
        margin: 0.125rem;
        font-size: 0.75rem;
      }
    }

    .p-multiselect-trigger {
      width: 2.5rem;
      flex-shrink: 0;
      color: var(--color-primary-600);
    }

    &:hover:not(.p-focus) {
      border-color: rgba(116, 88, 140, 0.4);
    }

    &.p-focus {
      border-color: var(--input-border-focus);
      box-shadow: 0 0 0 3px rgba(122, 76, 148, 0.15);
    }

    &.ng-invalid.ng-touched {
      border-color: var(--color-accent-red-400);

      &.p-focus {
        box-shadow: 0 0 0 3px rgba(225, 93, 100, 0.15);
      }
    }
  }
}

.courses-panel.p-multiselect-panel {
  background: var(--color-surface) !important;
  border-radius: var(--radius-sm) !important;
  box-shadow: var(--shadow-lg) !important;
  border: 1px solid var(--input-border) !important;
  margin-top: 0.35rem;
  max-height: 300px;

  .p-multiselect-items-wrapper {
    max-height: 300px;

    .p-multiselect-items {
      padding: 0.5rem;

      .p-multiselect-item {
        color: var(--color-text-900);
        padding: 0.5rem 0.75rem;
        margin-bottom: 0.25rem;
        border-radius: var(--radius-xs);
        font-size: 0.75rem;
        line-height: 1.2;
        transition: background var(--transition-base);

        &:hover {
          background: var(--color-primary-100);
        }

        &.p-highlight {
          background: var(--color-primary-200);
          color: var(--color-primary-800);
        }

        .p-checkbox {
          margin-right: 0.625rem;

          .p-checkbox-box {
            background: var(--color-surface);
            border: 1.5px solid var(--input-border);
            width: 1rem;
            height: 1rem;
            border-radius: var(--radius-xs);

            .p-checkbox-icon {
              color: var(--color-primary-700);
              font-size: 0.625rem;
            }

            &.p-highlight {
              background: var(--color-primary-600);
              border-color: var(--color-primary-600);

              .p-checkbox-icon {
                color: #ffffff;
              }
            }
          }
        }
      }

      .p-multiselect-empty-message {
        color: var(--color-text-500);
        padding: 1rem;
        text-align: center;
        font-size: var(--font-size-sm);
      }
    }
  }
}
